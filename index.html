<html>
        <head>
                <meta charset="utf-8">
            <title>Data Mining IRC</title>
            <link rel="stylesheet" href="d3/jquery-ui.css" />
            <link type="text/css" rel="stylesheet" href="style.css" />
            <link href="select2.css" rel="stylesheet"/>
            <script src="d3/jquery-1.9.1.js"></script>
            <script src="d3/jquery-ui.js"></script>
            <script src="d3/d3.v3.min.js" charset="utf-8"></script>
 		    <script src="d3/d3.layout.cloud.js"></script>
 			<script src="select2.js"></script>
			<script src="parser_normal.js"></script>         
 			<script src="parser_irssi.js"></script>        	  
			<script src="word-cloud.js"></script>
			<script src="interfaces.js"></script>
			<script src="logs.js"></script>
			<!-- this isn't ideal, but it will avoid some security issues for local development without web server -->
			<script src="logs/default_data.js"></script>

			<script>
		    
				// Init the parser
        		var parsers = [];         		
         		parsers["irssi"] = new Parser_irssi();
         		// parsers["normal"] = parser_normal;
         		var the_parser;
        		var logs = [];
        		var the_logs;
        		
        		// Init the tool visualisers
        		var the_visulizers = [];
        		</script>
				<script src="visual_tools/users_wordcloud.js"></script>
				<script src="visual_tools/terms_wordcloud.js"></script>
				<script src="visual_tools/time_nick_correlation.js"></script>
				
    			<script>
    			
        		// Init the selectors
        		var the_selectors = [];
        		</script>
				<script src="selectors/search_selector.js"></script>
				<script src="selectors/hide_notices_selector.js"></script>
				<script src="selectors/time_selector.js"></script>
				<script src="selectors/users_selector.js"></script>
    			<script>
        		
	            var stopwords = {}
	            
                $(document).ready(function() {
                	
                	// hide the panel
                	$('#panel').hide()
                	
                	// Display the different availaible formats
					for (a_parser in parsers) {
						$('#parser_format').append('<option>'+a_parser+'</option>');	
					}

					// load default logs data
					$("#source").val(getDefaultLogsString().join("\n"))

					// load stopwords
					var tokens = getDefaultStopWordsList()
					for (var i=0, len=tokens.length; i<len; i++) {
						stopwords[tokens[i]]=true;
						if (tokens[i].indexOf("'")>0) { // apostrophes
							var parts = tokens[i].split("'");
							for (var j=0, lenj=parts.length; j<lenj; j++) {
								stopwords[parts[j]]=true;
							}
						}
					}
				});
	            
                </script>
                
        </head>
<body>
        <div id=software-title-header><div id="software-title">DataMiningIRC V.01beta.</div><div id="software-subtile">Please visit us on <a href = "https://github.com/stephcouture/DataMiningIRC/blob/master/README.md" target="_blank">GitHub</a></div></div>
        <div id="load">
        <div id="loading">
                <div>Paste in logs here :</div>
                <textarea style="width: 100%; height: 20em;" id="source">
				</textarea>
				Choose log format : <select id="parser_format"></select>
		<input type="button" value="Load logs" onclick="displayPanel()">
		<br><i>Note : If you want other format, <a href = "https://github.com/stephcouture/DataMiningIRC/issues/new" target="_blank">please submit a new issue</a></i>.
		</div>
        <div id = "panel"</div>
            <div id ="restrict-panel"></div>
        	<div id="displaylogtable"></div>
        	<div id="toolselector"></div>        	
        	<div id="preview"></div>
        </div>
</body>
</html>
